
<?php $__env->startSection('titulo','Unit 33 | Grammar'); ?>
<?php $__env->startSection('conteudo'); ?>
<!-- WRAPPER ALL -->

<?php echo $__env->make('layouts.menus.mSidebar', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
<?php echo $__env->make('layouts.header.mHeader', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>

<main>
    <!-- Conteúdo principal central -->
    <div class="dashboard">
        <div id="unidade" class="box" data-apostila="apostila2" data-unidade="unidade33" data-etapa="grammar">
            <h3 class="barlow">UNIT 33</h3>
            <h5 class="barlow">3 – GRAMMAR / EXERCISES REVIEW</h5>

            <span class="play-audio">( Aperte o play )</span>
            <audio controls="" controlslist="nodownload" class="suave">
                <source src="<?php echo e(asset('assets/audio/apostila2/UNIT 33/3. GRAMMAR/GRAMMAR.ogg')); ?>" type="audio/ogg">
            </audio>
            <div class="clear"></div>

            <h5 class="barlow" style="margin-top: 16px">A - Read the passage and ask questions:</h5>

            <p>
                Janet Johnson is a film actress. She made several animal films. She is talking
                about an elephant called HEKIMA.
            </p>
            <p>
                “I met Hekima when I went to Africa seven years ago. We were in Tanzania and
                we were making a film about elephants. When we arrived, we saw three young
                elephants. They were playing together. Hekima was small, friendly and intelligent.
                We called her Hekima because it means “wisdom”. Hekima was a great actress,
                and the film made her famous. After we finished the film we left Africa. I thought
                I’d never see Hekima again. But she left Africa, too. She came to a zoo in the USA.
                I was working in New York when I heard about that. She was happy when she saw
                me. She was playing happily. I think she remembered me.”
            </p>

            <form id="unidade33grammar254" class="metade" action="post">
                <p>
                    1.<input type="text" name="grammar254-1" placeholder="Responda aqui" class="full left-align" required>?
                    Janet went to Africa seven years ago.
                </p>
                <p>
                    2.<input type="text" name="grammar254-2" placeholder="Responda aqui" class="full left-align" required>?
                    Janet was making a film in Tanzania.
                </p>
                <p>
                    3.<input type="text" name="grammar254-3" placeholder="Responda aqui" class="full left-align" required>?
                    The elephants were playing when they arrived.
                </p>
                <p>
                    4.<input type="text" name="grammar254-4" placeholder="Responda aqui" class="full left-align" required>?
                    Because Hekima was an intelligent elephant.
                </p>
                <p>
                    5.<input type="text" name="grammar254-5" placeholder="Responda aqui" class="full left-align" required>?
                    It means “wisdom”.
                </p>
                <p>
                    6.<input type="text" name="grammar254-6" placeholder="Responda aqui" class="full left-align" required>?
                    Hekima was in a zoo in the USA while Janet was working in New York.
                </p>
                <p>
                    7.<input type="text" name="grammar254-7" placeholder="Responda aqui" class="full left-align" required>?
                    Hekima was playing when Janet went to see her.
                </p>

                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="33">
                <input type="hidden" name="atividade_id" value="254">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>

            <h5 class="barlow">2 - Use the correct form of the verbs:</h5>
            <form id="unidade33grammar255" action="post">
                <p>1. The Bartons
                    <input type="text" name="grammar255-1" placeholder="Responda aqui" required>(go) to the mountains last weekend. While they
                    <input type="text" name="grammar255-2" placeholder="Responda aqui" required>(have) lunch, a man
                    <input type="text" name="grammar255-3" placeholder="Responda aqui" required>(fall) down the tree. They
                    <input type="text" name="grammar255-4" placeholder="Responda aqui" required>(take) him to the hospital in their car. They
                    <input type="text" name="grammar255-5" placeholder="Responda aqui" required>(visit) him twice in the hospital since that time. The man
                    <input type="text" name="grammar255-6" placeholder="Responda aqui" required>(be) better now and the doctors say he
                    <input type="text" name="grammar255-7" placeholder="Responda aqui" required>(leave) the hospital soon. When The Bartons
                    <input type="text" name="grammar255-8" placeholder="Responda aqui" required>(visit) him yesterday, they
                    <input type="text" name="grammar255-9" placeholder="Responda aqui" required>(take) him a bunch of flowers. The man
                    <input type="text" name="grammar255-10" placeholder="Responda aqui" required>(be) very happy and
                    <input type="text" name="grammar255-11" placeholder="Responda aqui" required>(thank) them. Mr. Barton now says he
                    <input type="text" name="grammar255-12" placeholder="Responda aqui" required>(spend) the next weekend at the seaside and he
                    <input type="text" name="grammar255-13" placeholder="Responda aqui" required>(hope) there
                    <input type="text" name="grammar255-14" placeholder="Responda aqui" required>(not / be) any more accidents.</p>
                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="33">
                <input type="hidden" name="atividade_id" value="255">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
            <br>
            <form id="unidade33grammar256" action="post">
                <p>2. I
                    <input type="text" name="grammar256-1" placeholder="Responda aqui" required>(finish) school last month and I
                    <input type="text" name="grammar256-2" placeholder="Responda aqui" required>. (not / have) a job yet, but fortunately I
                    <input type="text" name="grammar256-3" placeholder="Responda aqui" required>(have) a job interview tomorrow. I usually
                    <input type="text" name="grammar256-4" placeholder="Responda aqui" required>(get) up early so often
                    <input type="text" name="grammar256-5" placeholder="Responda aqui" required>(sleep) at around half past ten. I
                    <input type="text" name="grammar256-6" placeholder="Responda aqui" required>(be) a little excited last night and because of this I
                    <input type="text" name="grammar256-7" placeholder="Responda aqui" required>(want / watch) TV before I
                    <input type="text" name="grammar256-8" placeholder="Responda aqui" required>(go) to bed. There
                    <input type="text" name="grammar256-9" placeholder="Responda aqui" required>(be) a film about birds on TV and while I
                    <input type="text" name="grammar256-10" placeholder="Responda aqui" required>(sit) on the sofa, I
                    <input type="text" name="grammar256-11" placeholder="Responda aqui" required>(fall) asleep.
                    <input type="text" name="grammar256-12" placeholder="Responda aqui" required>you
                    <input type="text" name="grammar256-13" placeholder="Responda aqui" required>(have) a terrible dream? Well, I
                    <input type="text" name="grammar256-14" placeholder="Responda aqui" required>(have) one last night. In my dream I
                    <input type="text" name="grammar256-15" placeholder="Responda aqui" required>(be) a parrot and my apartment flat
                    <input type="text" name="grammar256-16" placeholder="Responda aqui" required>(be) on the tenth floor of a big building. A big cat
                    <input type="text" name="grammar256-17" placeholder="Responda aqui" required>(want / catch) me so I
                    <input type="text" name="grammar256-18" placeholder="Responda aqui" required>(begin / fly). I
                    <input type="text" name="grammar256-19" placeholder="Responda aqui" required>(have) nowhere
                    <input type="text" name="grammar256-20" placeholder="Responda aqui" required>(go) because the door
                    <input type="text" name="grammar256-21" placeholder="Responda aqui" required>(be) locked. Suddenly the cat
                    <input type="text" name="grammar256-22" placeholder="Responda aqui" required>(attack) me. It nearly
                    <input type="text" name="grammar256-23" placeholder="Responda aqui" required>(kill) me. While I
                    <input type="text" name="grammar256-24" placeholder="Responda aqui" required>(shout) in pain,a voice
                    <input type="text" name="grammar256-25" placeholder="Responda aqui" required>(say), “
                    <input type="text" name="grammar256-26" placeholder="Responda aqui" required>you
                    <input type="text" name="grammar256-27" placeholder="Responda aqui" required>(see) my books? I can’t find them.” When I
                    <input type="text" name="grammar256-28" placeholder="Responda aqui" required>(open) my eyes, I
                    <input type="text" name="grammar256-29" placeholder="Responda aqui" required>(feel) very happy
                    <input type="text" name="grammar256-30" placeholder="Responda aqui" required>(see) my sister. Of course she
                    <input type="text" name="grammar256-31" placeholder="Responda aqui" required>(not / understand) the reason but I
                    <input type="text" name="grammar256-32" placeholder="Responda aqui" required>(give) her a big kiss.</p>

                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="33">
                <input type="hidden" name="atividade_id" value="256">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
        </div>
    </div>
</main>
<script>
    activeMenu();

    $("form").each(function() {
        var atividade_id = $(this).find('input[name="atividade_id"]').val();
        var inputType = $(this).find('input').attr('type');
        checkAtividade(atividade_id, inputType);
    });

    $("#unidade33grammar254").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade33grammar254 input[type="text"]').each(function(index) {
            if (($('#unidade33grammar254 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade33grammar254 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade33grammar254'), respostas);
        } else {
            enviarAtividade($('#unidade33grammar254'), respostas);
        }
    });

    $("#unidade33grammar255").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade33grammar255 input[type="text"]').each(function(index) {
            if (($('#unidade33grammar255 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade33grammar255 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade33grammar255'), respostas);
        } else {
            enviarAtividade($('#unidade33grammar255'), respostas);
        }
    });

    $("#unidade33grammar256").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade33grammar256 input[type="text"]').each(function(index) {
            if (($('#unidade33grammar256 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade33grammar256 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade33grammar256'), respostas);
        } else {
            enviarAtividade($('#unidade33grammar256'), respostas);
        }
    });

    function checkAtividade(atividade_id) {
        request = $.ajax({
            url: window.location.pathname + '/respostasCheck/' + atividade_id,
            type: 'get',
            error: function() {
                console.log("Erro de retorno de dados.");
            }
        });
        request.done(function(response) {
            if (response == 0) {
                console.log("não veio nada");
            } else {
                var objeto = JSON.parse(response[0].resposta_respostas);
                var chaves = Object.keys(objeto);
                var respostas = Object.values(objeto);
                for (j = 0; j < respostas.length; j++) {
                    $('#unidade33grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').val(respostas[j]);
                    $('#unidade33grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').attr("value", respostas[j]);
                }
                $('#unidade33grammar' + atividade_id + ' input[name="resposta_id"]').val(response[0].resposta_id);
                $('#unidade33grammar' + atividade_id + ' input[name="resposta_id"]').attr("value", response[0].resposta_id);
            }
        });
    }

    function enviarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_respostas": respostas,
            "atividade_id": formId.find('input[name="atividade_id"]').val(),
            "unidade_id": formId.find('input[name="unidade_id"]').val()
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }

    function atualizarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_id": formId.find('input[name="resposta_id"]').val(),
            "resposta_respostas": respostas
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }
</script>

<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.template', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH /home1/imugi270/site.imugi.com.br/resources/views/apostila2/unidade33/grammar.blade.php ENDPATH**/ ?>
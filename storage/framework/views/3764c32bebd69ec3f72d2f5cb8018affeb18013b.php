
<?php $__env->startSection('titulo','Unit 56 | Grammar'); ?>
<?php $__env->startSection('conteudo'); ?>
<!-- WRAPPER ALL -->

<?php echo $__env->make('layouts.menus.mSidebar', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
<?php echo $__env->make('layouts.header.mHeader', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>

<main>
    <!-- Conteúdo principal central -->
    <div class="dashboard">
        <div id="unidade" class="box" data-apostila="apostila2" data-unidade="unidade56" data-etapa="grammar">
            <h3 class="barlow">UNIT 56 </h3>
            <h5 class="barlow">3 - GRAMAR</h5>
            <span class="play-audio">( Aperte o play )</span>
            <!-- <audio controls="" controlslist="nodownload" class="suave">
					<source src="<?php echo e(asset('assets/audio/Unit6/Grammar/completo.ogg')); ?>" type="audio/ogg">
                </audio> -->
            <!-- nao tem audio ainda -->
            <div class="clear"></div>
            <div style="margin-top: 16px">
                <h5 class="barlow" style="margin-top: 16px">A - PAST PERFECT CONTINUOUS</h5>
                <p>
                    We use the Past Perfect Continuous to show that something started in the past and continued up until another time in the past. “For five minutes” and “for two weeks” are both
                    durations which can be used with the Past Perfect Continuous. Notice that this is related to
                    the Present Perfect Continuous; however, the duration does not continue until now, it stops
                    before something else in the past.
                </p>
                <p class="bordaVerde"><b>Past Perfect = Subject + Had + BEEN + verb(ing)</b></p>
                <div class="metade">
                    <table class=" center-align">
                        <tr>
                            <td>
                                <h5 class="barlow">PAST PERFECT</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p>(+) Gleen had teaching over an hour when Akira arrived.</p>
                                <p>(-) Gleen hadn't been teaching over an hour when Akira arrived.</p>
                                <p>(?) Had Gleen been teaching over an hour when Akira Arrived?</p><br>

                                <p>(+) Laura had already been using different cameras when she fell in love with videos.</p>
                                <p>(-) Laura hadn't been using different cameras yet when she fell in love with videos.</p>
                                <p>(?) Had Laura been using different Cameras when she fell in love with videos?</p><br>
                            </td>
                        </tr>
                    </table>
                </div>
                <h5 class="barlow" style="margin-top: 32px"><b>EXERCISES:</b></h5>
                <h5 class="barlow">1 - Fill in the following sentences by using PAST PERFECT CONTINUOUS TENSE:</h5>
                <form id="unidade56grammar380" style="margin-top:32px" method="post">
                    <div class="metade">
                        <p>
                            <p>1. We <input type="text" name="grammar380-1" placeholder="Responda aqui" required /> (play) football for half an hour when it started to rain.</p>
                            <p>2. I <input type="text" name="grammar380-2" placeholder="Responda aqui" required /> (study) English for a short time when the electricity went off.</p>
                            <p>3. She <input type="text" name="grammar380-3" placeholder="Responda aqui" required /> (do) her homework before you came in.</p>
                            <p>4. His knees and hands were very dirty. He <input type="text" name="grammar380-4" placeholder="Responda aqui" required /> (crawl) in the garden.</p>
                            <p>5. <input type="text" name="grammar380-5" placeholder="Responda aqui" required /> (drive) the car for five years when I sold it.</p>
                            <p>6. We were very tired. We <input type="text" name="grammar380-6" placeholder="Responda aqui" required /> (travel) for about sixteen hours.</p>
                            <p>7. They were out of breath. They <input type="text" name="grammar380-7" placeholder="Responda aqui" required /> (run) for a long time.</p>
                            <p>8. He <input type="text" name="grammar380-8" placeholder="Responda aqui" required /> (live) in London for ten years when he had an accident.</p>
                            <p>9. He was tired because he <input type="text" name="grammar380-9" placeholder="Responda aqui" required /> (write) letters all morning.</p>
                            <p>10.He <input type="text" name="grammar380-10" placeholder="Responda aqui" required /> (repair) the radio for an hour when you arrived.</p>
                        </p>
                    </div>

                    <div class="clear"></div>

                    <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                    <input type="hidden" name="resposta_id" value="0">
                    <input type="hidden" name="unidade_id" value="56">
                    <input type="hidden" name="atividade_id" value="380">
                    <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
                </form>
            </div>
            <h5 class="barlow">2 - Fill in the following sentences by using PAST PERFECT CONTINUOUS TENSE:</h5>
            <form id="unidade56grammar381" style="margin-top:32px" method="post">
                <div class="metade">
                    <p>
                        <p>1. I was tired because I <input type="text" name="grammar381-1" placeholder="Responda aqui" required /> (type) for a long time.</p>
                        <p>2. Her boss was very angry with her because she <input type="text" name="grammar381-2" placeholder="Responda aqui" required /> (come) to work very late.</p>
                        <p>3. I didn’t know about the earthquake because I <input type="text" name="grammar381-3" placeholder="Responda aqui" required /> (not / watch) television.</p>
                        <p>4. She was too fat because she <input type="text" name="grammar381-4" placeholder="Responda aqui" required /> (not / keep) her doctor’s advice.</p>
                        <p>5. I took my car to the garage because the brakes <input type="text" name="grammar381-5" placeholder="Responda aqui" required /> (not / work).</p>
                        <p>6. She had to go to the dentist because she <input type="text" name="grammar381-6" placeholder="Responda aqui" required /> (not / clean) her teeth.
                        <p>7. He got bad marks because he <input type="text" name="grammar381-7" placeholder="Responda aqui" required /> (not / study) hard.</p>
                        <p>8. She wasn’t at home. She <input type="text" name="grammar381-8" placeholder="Responda aqui" required /> (go) out with her boyfriend.</p>
                        <p>9. I thought I <input type="text" name="grammar381-9" placeholder="Responda aqui" required /> (behave) like an idiot.</p>
                        <p>10. He <input type="text" name="grammar381-10" placeholder="Responda aqui" required /> (study) English) very hard for the last few days.</p>
                    </p>
                </div>

                <div class="clear"></div>

                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="56">
                <input type="hidden" name="atividade_id" value="381">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>

            <h5 class="barlow" style="margin-top: 36px">
                3 - Before you started your course, certainly you were involved in some activities. What
                had you been doing before you started the course.
            </h5>
            <form id="unidade56grammar382" method="post">
                <textarea name="grammar382-1" class="metade left-align" placeholder="Responda aqui" required></textarea>

                <div class="clear"></div>

                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="56">
                <input type="hidden" name="atividade_id" value="382">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
            <div style="margin-top: 36px">
                <figure>
                    <img src="<?php echo e(asset('assets/img/dominating/unit56/grammar.png')); ?>" alt="sobrepeso">
                </figure>
            </div>
        </div>
    </div>
</main>
<script>
    activeMenu();

    $("form").each(function() {
        var atividade_id = $(this).find('input[name="atividade_id"]').val();
        checkAtividade(atividade_id);
    });

    $("#unidade56grammar380").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade56grammar380 input[type="text"]').each(function(index) {
            if (($('#unidade56grammar380 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade56grammar380 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade56grammar380'), respostas);
        } else {
            enviarAtividade($('#unidade56grammar380'), respostas);
        }
    });

    $("#unidade56grammar381").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade56grammar381 input[type="text"]').each(function(index) {
            if (($('#unidade56grammar381 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade56grammar381 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade56grammar381'), respostas);
        } else {
            enviarAtividade($('#unidade56grammar381'), respostas);
        }
    });

    $("#unidade56grammar382").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{"' + $('#unidade56grammar382 textarea').attr("name") + '":"' + $('#unidade56grammar382 textarea').val() + '"}';
        if ($('#unidade56grammar382 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade56grammar382'), respostas);
        } else {
            enviarAtividade($('#unidade56grammar382'), respostas);
        }
    });


    function checkAtividade(atividade_id) {
        request = $.ajax({
            url: window.location.pathname + '/respostasCheck/' + atividade_id,
            type: 'get',
            error: function() {
                console.log("Erro de retorno de dados.");
            }
        });
        request.done(function(response) {
            if (response == 0) {
                console.log("não veio nada");
            } else {
                var objeto = JSON.parse(response[0].resposta_respostas);
                var chaves = Object.keys(objeto);
                var respostas = Object.values(objeto);
                for (j = 0; j < respostas.length; j++) {
                    $('#unidade56grammar' + atividade_id + ' textarea[name="' + chaves[j] + '"]').val(respostas[j]);
                    $('#unidade56grammar' + atividade_id + ' textarea[name="' + chaves[j] + '"]').attr("value", respostas[j]);
                    $('#unidade56grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').val(respostas[j]);
                    $('#unidade56grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').attr("value", respostas[j]);
                }
                $('#unidade56grammar' + atividade_id + ' input[name="resposta_id"]').val(response[0].resposta_id);
                $('#unidade56grammar' + atividade_id + ' input[name="resposta_id"]').attr("value", response[0].resposta_id);
            }
        });
    }

    function enviarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_respostas": respostas,
            "atividade_id": formId.find('input[name="atividade_id"]').val(),
            "unidade_id": formId.find('input[name="unidade_id"]').val()
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }

    function atualizarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_id": formId.find('input[name="resposta_id"]').val(),
            "resposta_respostas": respostas
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }
</script>

<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.template', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH /home1/imugi270/site.imugi.com.br/resources/views/apostila2/unidade56/grammar.blade.php ENDPATH**/ ?>
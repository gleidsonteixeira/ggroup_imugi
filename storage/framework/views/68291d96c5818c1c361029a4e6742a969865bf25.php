
<?php $__env->startSection('titulo','Unit 34 | Grammar'); ?>
<?php $__env->startSection('conteudo'); ?>
<!-- WRAPPER ALL -->

<?php echo $__env->make('layouts.menus.mSidebar', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
<?php echo $__env->make('layouts.header.mHeader', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>

<main>
    <!-- Conteúdo principal central -->
    <div class="dashboard">
        <div id="unidade" class="box" data-apostila="apostila2" data-unidade="unidade34" data-etapa="grammar">
            <h3 class="barlow">UNIT 34</h3>
            <h5 class="barlow">3 – GRAMMAR</h5>

            <span class="play-audio">( Aperte o play )</span>
            <audio controls="" controlslist="nodownload" class="suave">
                <source src="<?php echo e(asset('assets/audio/apostila2/UNIT 34/3. GRAMMAR/GRAMMAR.ogg')); ?>" type="audio/ogg">
            </audio>
            <div class="clear"></div>

            <h5 class="barlow" style="margin-top: 16px">A - WOULD YOU MIND / WOULD YOU MIND IF</h5>
            <p>
                We use <b>Would you mind/if</b> to <b>politely</b> ask both <b>favors and permissions</b>. There’s a
                difference in the structure of both types of sentences. Take a look at the examples.
            </p>

            <table class="metade center-align">
                <tr>
                    <td>
                        <h5 class="barlow">Asking for favors - WOULD YOU MIND + VERB (ING)</h5>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><b>Would</b> you <b>mind helping</b> me tomorrow morning?</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><b>Would</b> you <b>mind sending</b> me the file?</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h5 class="barlow">Asking for Permission - WOULD YOU MIND IF + SUBJECT + VERB IN THE PAST</h5>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><b>Would</b> you <b>mind if l left</b> earlier today?</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p><b>Would</b> you <b>mind If l called</b> you tomorrow morning?</p>
                    </td>
                </tr>
            </table>

            <h5 class="barlow" style="margin-top:16px"><b>EXERCISES</b></h5>
            <h5 class="barlow">1 - Complete the sentences with WOULD YOU MIND or WOULD YOU MINF IF.</h5>
            <form id="unidade34grammar259" action="post">
                <p>
                    1. Excuse me. Would you mind (put out)<input type="text" name="grammar259-1" placeholder="Responda aqui" required>
                    your cigarette? It’s non-smoking area here. Oh I’m sorry, I didn’t know.
                </p>
                <p>
                    2. Ma’am, would you mind (open)<input type="text" name="grammar259-2" placeholder="Responda aqui" required>up your luggage? I need to look inside.
                </p>
                <p>
                    3. Would you mind (postpone)<input type="text" name="grammar259-3" placeholder="Responda aqui" required>the exam? No, it’s fine, I want everybody to be well prepared.
                </p>
                <p>
                    4. Would you mind if I (use)<input type="text" name="grammar259-4" placeholder="Responda aqui" required>your phone to make a call. Not at all. Go ahead.
                </p>
                <p>
                    5. While we are away, would you mind if you (take care)<input type="text" name="grammar259-5" placeholder="Responda aqui" required>of the cat?
                    I actually can’t because I will be out of town.
                </p>
                <p>
                    6. Would you mind If I (close)<input type="text" name="grammar259-6" placeholder="Responda aqui" required>the back door. I am freezing. No, you can close it.
                </p>
                <p>
                    7. Would you mind (turn up)<input type="text" name="grammar259-7" placeholder="Responda aqui" required>the volume? I can’t hear anything. No, not at all.
                </p>
                <p>
                    8. I can’t figure out how to solve this problem. Would you mind (help)<input type="text" name="grammar259-8" placeholder="Responda aqui" required>me?
                </p>
                <p>
                    9. Would you mind if I (sit)<input type="text" name="grammar259-9" placeholder="Responda aqui" required>down? No, go ahead.
                </p>
                <p>
                    10. I am not ready for my presentation yet. Would you mind If I (present)<input type="text" name="grammar259-10" placeholder="Responda aqui" required>next week?
                    That’s OK. I will give you another week.
                </p>
                <p>
                    11. Would you mind (open)<input type="text" name="grammar259-11" placeholder="Responda aqui" required>a window, please?
                </p>
                <p>
                    12. Would you mind (help)<input type="text" name="grammar259-12" placeholder="Responda aqui" required>me carry my bag, please?
                </p>
                <p>
                    13. Would you mind if I (come)<input type="text" name="grammar259-13" placeholder="Responda aqui" required>with you?
                </p>
                <p>
                    14. Would you mind if he (become)<input type="text" name="grammar259-14" placeholder="Responda aqui" required>your cigarette, please?
                </p>
                <p>
                    15. Would you mind (call)<input type="text" name="grammar259-15" placeholder="Responda aqui" required>me five minutes later?
                </p>
                <p>
                    16. Would you mind if they (join)<input type="text" name="grammar259-16" placeholder="Responda aqui" required>us for dinner?
                </p>
                <p>
                    17. Would you mind if I (sit)<input type="text" name="grammar259-17" placeholder="Responda aqui" required>here
                </p>
                <p>
                    18. Would you mind (clean)<input type="text" name="grammar259-18" placeholder="Responda aqui" required>up your mess?
                </p>
                <p>
                    19. Would you mind if I (borrow)<input type="text" name="grammar259-19" placeholder="Responda aqui" required>your car tonight?
                </p>
                <p>
                    20. Would you mind (open)<input type="text" name="grammar259-20" placeholder="Responda aqui" required>(open) the door for me, please?
                </p>
                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="34">
                <input type="hidden" name="atividade_id" value="259">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
            <br>

            <h5 class="barlow">2 - Write a six-line dialogue with the following situation.</h5>
            <form id="unidade34grammar260" class="metade" action="post">
                <p>a. A client is complaining about the colors of his pictures.</p>
                <textarea name="grammar260-1" placeholder="Responda aqui"></textarea>

                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="34">
                <input type="hidden" name="atividade_id" value="260">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
            <form id="unidade34grammar261" class="metade" action="post">
                <p>b. The illustrator is proposing some ideas to solve the problem.</p>
                <textarea name="grammar261-1" placeholder="Responda aqui"></textarea>

                <div class="clear"></div>
                <input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>">
                <input type="hidden" name="resposta_id" value="0">
                <input type="hidden" name="unidade_id" value="34">
                <input type="hidden" name="atividade_id" value="261">
                <button type="submit" class="mini-title suave click suave">Salvar resposta</button>
            </form>
            <figure class="metade esquerda">
                <img src="<?php echo e(asset('assets/img/dominating/unit34/grammar1.png')); ?>" alt="desenhista">
            </figure>
            <figure class="metade direita">
                <img src="<?php echo e(asset('assets/img/dominating/unit34/grammar2.png')); ?>" alt="desenho personagem">
            </figure>
        </div>
    </div>
</main>
<script>
    activeMenu();

    $("form").each(function() {
        var atividade_id = $(this).find('input[name="atividade_id"]').val();
        var inputType = $(this).find('input').attr('type');
        checkAtividade(atividade_id, inputType);
    });

    $("#unidade34grammar259").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{';
        $('#unidade34grammar259 input[type="text"]').each(function(index) {
            if (($('#unidade34grammar259 input[type="text"]').length - 1) == index) {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '"}';
            } else {
                respostas += '"' + $(this).attr("name") + '":"' + $(this).val() + '",';
            }
        });
        if ($('#unidade34grammar259 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade34grammar259'), respostas);
        } else {
            enviarAtividade($('#unidade34grammar259'), respostas);
        }
    });

    $("#unidade34grammar260").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{"' + $('#unidade34grammar260 textarea').attr("name") + '":"' + $('#unidade34grammar260 textarea').val() + '"}';
        if ($('#unidade34grammar260 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade34grammar260'), respostas);
        } else {
            enviarAtividade($('#unidade34grammar260'), respostas);
        }
    });

    $("#unidade34grammar261").submit(function(e) {
        e.preventDefault();
        $(this).find('button').prop('disabled', true);
        var respostas = '{"' + $('#unidade34grammar261 textarea').attr("name") + '":"' + $('#unidade34grammar261 textarea').val() + '"}';
        if ($('#unidade34grammar261 input[name="resposta_id"').val() != 0) {
            atualizarAtividade($('#unidade34grammar261'), respostas);
        } else {
            enviarAtividade($('#unidade34grammar261'), respostas);
        }
    });

    function checkAtividade(atividade_id) {
        request = $.ajax({
            url: window.location.pathname + '/respostasCheck/' + atividade_id,
            type: 'get',
            error: function() {
                console.log("Erro de retorno de dados.");
            }
        });
        request.done(function(response) {
            if (response == 0) {
                console.log("não veio nada");
            } else {
                var objeto = JSON.parse(response[0].resposta_respostas);
                var chaves = Object.keys(objeto);
                var respostas = Object.values(objeto);
                for (j = 0; j < respostas.length; j++) {
                    $('#unidade34grammar' + atividade_id + ' textarea[name="' + chaves[j] + '"]').val(respostas[j]);
                    $('#unidade34grammar' + atividade_id + ' textarea[name="' + chaves[j] + '"]').attr("value", respostas[j]);
                    $('#unidade34grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').val(respostas[j]);
                    $('#unidade34grammar' + atividade_id + ' input[name="' + chaves[j] + '"]').attr("value", respostas[j]);
                }
                $('#unidade34grammar' + atividade_id + ' input[name="resposta_id"]').val(response[0].resposta_id);
                $('#unidade34grammar' + atividade_id + ' input[name="resposta_id"]').attr("value", response[0].resposta_id);
            }
        });
    }

    function enviarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_respostas": respostas,
            "atividade_id": formId.find('input[name="atividade_id"]').val(),
            "unidade_id": formId.find('input[name="unidade_id"]').val()
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }

    function atualizarAtividade(formId, respostas) {
        var resposta = {
            "_token": formId.find('input[name="_token"]').val(),
            "resposta_id": formId.find('input[name="resposta_id"]').val(),
            "resposta_respostas": respostas
        };
        request = $.ajax({
            url: window.location.pathname + '/respostas',
            data: resposta,
            type: 'post',
            error: function() {
                console.log("Erro de envio.");
            }
        });
        request.done(function(response) {
            if (response == "1") {
                alert("Respostas salvas");
                window.location.reload();
            } else if (response == 2) {
                alert("Respostas atualizadas");
                window.location.reload();
            }
        });
    }
</script>

<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.template', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH /home1/imugi270/site.imugi.com.br/resources/views/apostila2/unidade34/grammar.blade.php ENDPATH**/ ?>